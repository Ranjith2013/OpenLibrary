(this["webpackJsonpopen-library"]=this["webpackJsonpopen-library"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(7),o=c.n(r),s=(c(12),c.p,c(13),c(5)),i=c(2),l=c(0),h=function(e){var t=e.onSearchChange,c=(e.isSearching,e.fetchSearchResult),n=e.onSearchFilter,a=e.onSearchClick;return console.log("fetchSearchResult",c),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"Search-title",children:"Search For the Book Title"}),Object(l.jsxs)("div",{className:"search-container",children:[Object(l.jsx)("input",{className:"input-field",onChange:function(e){var c=e.target;return t(c.value)}}),Object(l.jsx)("button",{className:"search-button",onClick:a,children:"Search"}),Object(l.jsxs)("span",{className:"search-filter",children:["Filter",Object(l.jsxs)("select",{className:"filter",onChange:function(e){var t=e.target;return n(t.value)},children:[Object(l.jsx)("option",{value:"all",children:"All"}),Object(l.jsx)("option",{value:"author",children:"Author"}),Object(l.jsx)("option",{value:"title",children:" Title"}),Object(l.jsx)("option",{value:"sort",children:"Sort A-z"})]})]})]})]})},u=(c(15),function(e){e.selectedItem,e.onSearchChange;var t=e.isSearching,c=(e.onListSelect,e.fetchSearchResult);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:t?"list-search-card":"search-container-display",children:c&&c.map((function(e,t){return Object(l.jsx)("div",{className:"list-card",children:Object(l.jsxs)("div",{className:"card-item",children:[Object(l.jsx)("img",{width:"60px",height:"60px",src:"https://covers.openlibrary.org/b/id/".concat(e.cover_i,"-S.jpg?default=https://openlibrary.org/static/images/icons/avatar_book-sm.png")}),Object(l.jsxs)("span",{className:"list-text",children:[" ",e.title," "]}),Object(l.jsxs)("div",{className:"author-name",children:[Object(l.jsx)("span",{style:{color:"black"},children:" by -"})," ",e.author_name&&e.author_name.length>1?e.author_name.join(","):e.author_name]})]})},t)}))})})}),j=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),j=o[0],b=o[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),g=f[0],O=f[1],p=Object(n.useState)({}),m=Object(i.a)(p,2),v=(m[0],m[1]),S=Object(n.useState)(""),x=Object(i.a)(S,2),y=x[0],N=x[1],C=function(e,t){fetch("https://openlibrary.org/search.json?".concat(e,"=").concat(t,"&_facet=false&_spellcheck_count=0&limit=100&fields=key,cover_i,title,author_name,name&mode=everything")).then((function(e){return e.json()})).then((function(e){var t=e.docs?e.docs:[];a(Object(s.a)(t)),console.log("data",e),b(!1)})).catch((function(e){b(!1),console.log("error in fetching data",e)}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"heading",children:"Open Library"}),Object(l.jsx)(h,{onSearchChange:function(e){N(e)},fetchSearchResult:c,isSearching:j,onListSelect:function(e){console.log("onListSelect",e),fetch("https://openlibrary.org".concat(e.key,".json")).then((function(e){return e.json()})).then((function(e){O(!0),v(e),console.log("after select",e)})).catch((function(e){O(!1),console.log("fetch data error",e)}))},onSearchClick:function(){return function(){b(!0),O(!0);var e=y;e.length>3&&C("q",e)}()},onSearchFilter:function(e){console.log(e),b(!0);var t=y;if("author"===e)C("author",t);else if("title"===e)C("title",t);else if("all"==e)C("q",t);else if("sort"===e){console.log("sort");var n=Object(s.a)(c);n.sort((function(e,t){return e.title.localeCompare(t.title)})),console.log("called sort",c,n),a(Object(s.a)(n)),b(!1)}}}),g&&Object(l.jsx)(u,{fetchSearchResult:c,isSearching:j})]})};c(16);var b=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(j,{})})},d=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root")),d()}],[[17,1,2]]]);
//# sourceMappingURL=main.6c1188ce.chunk.js.map